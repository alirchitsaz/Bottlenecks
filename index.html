<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magic Folder | Workflow Architecture & Automation</title>
    
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      // gtag('config', 'G-XXXXXXXXXX'); 
    </script>

    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&family=Playfair+Display:wght@600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-deep: #020617;
            --bg-surface: #0f172a;
            --bg-card: #1e293b;
            --accent: #6366f1; /* Indigo 500 */
            --accent-glow: rgba(99, 102, 241, 0.5);
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --border: #334155;
            --success: #10b981;
        }

        /* --- BASE STYLES --- */
        body { 
            background-color: var(--bg-deep); 
            color: var(--text-main); 
            font-family: 'Inter', sans-serif; 
            line-height: 1.6; 
            margin: 0; 
            overflow-x: hidden;
        }

        h1, h2, h3 { font-family: 'Playfair Display', serif; font-weight: 700; letter-spacing: -0.02em; }
        .mono { font-family: 'JetBrains Mono', monospace; letter-spacing: -0.05em; }

        .container { max-width: 1100px; margin: 0 auto; padding: 0 24px; }
        
        /* --- UTILITIES --- */
        .hidden { display: none !important; }
        .fade-in { animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* --- HEADER --- */
        nav { 
            padding: 24px 0; 
            border-bottom: 1px solid rgba(255,255,255,0.05); 
            backdrop-filter: blur(10px); 
            position: sticky; top: 0; z-index: 100;
            background: rgba(2, 6, 23, 0.8);
        }
        .nav-inner { display: flex; justify-content: space-between; align-items: center; }
        .logo { display: flex; align-items: center; gap: 12px; font-weight: 700; font-size: 1.25rem; color: white; letter-spacing: -0.5px; }
        .logo svg { height: 32px; width: 32px; color: var(--accent); }

        /* --- HERO SECTION --- */
        .hero { 
            padding: 120px 0 80px; 
            text-align: center; 
            background: radial-gradient(circle at 50% 0%, #1e1b4b 0%, transparent 70%);
        }
        .hero-badge {
            display: inline-block; padding: 6px 16px; border-radius: 99px;
            background: rgba(99, 102, 241, 0.1); border: 1px solid rgba(99, 102, 241, 0.3);
            color: #818cf8; font-size: 0.85rem; margin-bottom: 32px;
        }
        .hero h1 { 
            font-size: clamp(3rem, 5vw, 4.5rem); 
            line-height: 1.1; margin-bottom: 24px; 
            background: linear-gradient(to right, #fff, #94a3b8); 
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .hero p { 
            font-size: 1.25rem; color: var(--text-muted); 
            max-width: 600px; margin: 0 auto 48px;
        }
        
        /* --- BUTTONS --- */
        .btn {
            padding: 16px 32px; border-radius: 8px; font-weight: 600; 
            cursor: pointer; transition: all 0.2s; border: none; font-size: 1rem;
            display: inline-flex; align-items: center; gap: 8px;
        }
        .btn-primary { 
            background: var(--accent); color: white; 
            box-shadow: 0 0 20px var(--accent-glow);
        }
        .btn-primary:hover { background: #4f46e5; transform: translateY(-2px); }
        .btn-ghost { background: transparent; color: var(--text-muted); border: 1px solid var(--border); }
        .btn-ghost:hover { color: white; border-color: white; }

        /* --- UI CARDS --- */
        .card {
            background: var(--bg-card); border: 1px solid var(--border); 
            border-radius: 16px; padding: 32px; transition: all 0.2s;
            position: relative; overflow: hidden;
        }
        .card:hover { border-color: var(--accent); box-shadow: 0 10px 30px -10px rgba(0,0,0,0.5); }
        
        /* --- GRID SELECTOR (STEP 1) --- */
        .industry-grid { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); 
            gap: 20px; margin-top: 40px; 
        }
        .industry-card {
            background: rgba(255,255,255,0.03); border: 1px solid var(--border);
            padding: 24px; border-radius: 12px; cursor: pointer; text-align: left;
            transition: 0.2s; display: flex; flex-direction: column; gap: 12px;
        }
        .industry-card:hover { background: rgba(255,255,255,0.05); border-color: white; }
        .industry-card h3 { font-family: 'Inter', sans-serif; font-size: 1.1rem; margin: 0; }
        .industry-card p { font-size: 0.9rem; color: var(--text-muted); margin: 0; }
        .industry-icon { color: var(--accent); }

        /* --- CHECKBOX LIST (STEP 2) --- */
        .problem-item {
            display: flex; gap: 16px; padding: 20px; border-radius: 12px;
            border: 1px solid var(--border); margin-bottom: 12px; cursor: pointer;
            background: rgba(30, 41, 59, 0.5); transition: 0.2s; align-items: flex-start;
        }
        .problem-item:hover { border-color: var(--text-muted); }
        .problem-item.selected { 
            background: rgba(99, 102, 241, 0.1); 
            border-color: var(--accent); 
        }
        .checkbox-custom {
            width: 20px; height: 20px; border-radius: 4px; border: 2px solid var(--border);
            flex-shrink: 0; display: grid; place-items: center; margin-top: 4px;
        }
        .problem-item.selected .checkbox-custom { background: var(--accent); border-color: var(--accent); }

        /* --- SLIDERS (STEP 3) --- */
        input[type=range] {
            width: 100%; height: 6px; background: var(--bg-surface);
            border-radius: 10px; outline: none; -webkit-appearance: none;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none; width: 20px; height: 20px;
            background: var(--accent); border-radius: 50%; cursor: pointer;
            box-shadow: 0 0 10px var(--accent-glow);
        }

        /* --- RESULTS (STEP 4) --- */
        .terminal-box {
            background: #000; border: 1px solid #333; border-radius: 12px;
            padding: 40px; font-family: 'JetBrains Mono', monospace; text-align: left;
            position: relative; margin-bottom: 40px;
        }
        .terminal-header {
            display: flex; gap: 8px; margin-bottom: 24px; opacity: 0.5;
        }
        .dot { width: 12px; height: 12px; border-radius: 50%; background: #333; }
        .scan-line {
            border-left: 2px solid var(--accent); margin-left: 20px; padding-left: 20px;
        }
        .money-stat { font-size: 3.5rem; color: var(--success); font-weight: 700; line-height: 1; margin: 10px 0; }
        
        .lead-input {
            width: 100%; padding: 16px; background: var(--bg-deep); border: 1px solid var(--border);
            color: white; border-radius: 8px; margin-bottom: 12px; font-family: 'Inter', sans-serif;
        }
        .lead-input:focus { outline: none; border-color: var(--accent); }

    </style>
</head>
<body>

<nav>
    <div class="container nav-inner">
        <div class="logo">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            MagicFolder
        </div>
        <div style="font-size: 0.9rem; color: var(--text-muted);">
            Enterprise Workflow Architecture
        </div>
    </div>
</nav>

<main class="container">

    <div id="hero" class="hero fade-in">
        <div class="hero-badge mono">v2.4 SYSTEM AUDIT AVAILABLE</div>
        <h1>Stop guessing where<br>your revenue leaks.</h1>
        <p>
            We don't just "do AI." We are Enterprise Architects who engineer friction out of your business. Identify your bottlenecks below.
        </p>
        <button class="btn btn-primary" onclick="startAudit()">Initialize Workflow Audit <i data-lucide="terminal"></i></button>
        
        <div style="margin-top: 60px; display: flex; justify-content: center; gap: 40px; color: var(--text-muted); font-size: 0.9rem;">
            <span><i data-lucide="shield-check" style="width:16px; display:inline; vertical-align:text-bottom;"></i> SOC2 Compliant Standards</span>
            <span><i data-lucide="cpu" style="width:16px; display:inline; vertical-align:text-bottom;"></i> Enterprise Grade</span>
            <span><i data-lucide="lock" style="width:16px; display:inline; vertical-align:text-bottom;"></i> Zero-Retention Analysis</span>
        </div>
    </div>

    <div id="step-1" class="hidden fade-in" style="padding: 60px 0;">
        <h2 style="text-align: center; margin-bottom: 10px;">Select Architecture Profile</h2>
        <p style="text-align: center; color: var(--text-muted); margin-bottom: 40px;">We load industry-specific logic models for accuracy.</p>
        
        <div class="industry-grid" id="industry-grid"></div>
    </div>

    <div id="step-2" class="hidden fade-in" style="max-width: 700px; margin: 60px auto;">
        <div style="display: flex; justify-content: space-between; align-items: end; margin-bottom: 30px;">
            <div>
                <h2 id="s2-title">Detected Workflows</h2>
                <p style="color: var(--text-muted);">Select active manual processes.</p>
            </div>
            <div class="mono" style="font-size: 0.8rem; color: var(--accent);">PHASE 2/4</div>
        </div>
        
        <div id="problem-list"></div>
        
        <div style="margin-top: 40px; display: flex; justify-content: space-between;">
            <button class="btn btn-ghost" onclick="setStep(1)">Back</button>
            <button class="btn btn-primary" onclick="validateStep2()">Quantify Volume <i data-lucide="arrow-right"></i></button>
        </div>
        <div id="err-2" style="color:#ef4444; margin-top:10px; display:none; text-align: center;">Selection required to proceed.</div>
    </div>

    <div id="step-3" class="hidden fade-in" style="max-width: 700px; margin: 60px auto;">
        <div style="display: flex; justify-content: space-between; align-items: end; margin-bottom: 30px;">
            <div>
                <h2>Input Volume Metrics</h2>
                <p style="color: var(--text-muted);">Conservative estimates recommended for accuracy.</p>
            </div>
            <div class="mono" style="font-size: 0.8rem; color: var(--accent);">PHASE 3/4</div>
        </div>

        <div id="slider-container"></div>
        
        <div class="card" style="margin-top: 30px; display: flex; align-items: center; gap: 20px;">
            <div style="background: rgba(255,255,255,0.05); width: 48px; height: 48px; border-radius: 8px; display: grid; place-items: center;">
                <i data-lucide="dollar-sign" style="color: var(--success);"></i>
            </div>
            <div style="flex: 1;">
                <label class="mono" style="font-size: 0.85rem; color: var(--text-muted); display: block; margin-bottom: 4px;">BASE HOURLY RATE (USD)</label>
                <input type="number" id="hourly-rate" value="100" style="background: transparent; border: none; color: white; font-size: 1.5rem; font-weight: 700; width: 100px; border-bottom: 1px solid var(--border);">
            </div>
        </div>

        <div style="margin-top: 40px; display: flex; justify-content: space-between;">
            <button class="btn btn-ghost" onclick="setStep(2)">Back</button>
            <button class="btn btn-primary" onclick="calculateAndShow()">Run Analysis <i data-lucide="activity"></i></button>
        </div>
    </div>

    <div id="step-4" class="hidden fade-in" style="max-width: 800px; margin: 60px auto;">
        
        <div class="terminal-box">
            <div class="terminal-header">
                <div class="dot" style="background:#ff5f56"></div>
                <div class="dot" style="background:#ffbd2e"></div>
                <div class="dot" style="background:#27c93f"></div>
            </div>
            <div style="color: var(--text-muted); margin-bottom: 20px;">> ANALYSIS_COMPLETE<br>> CALCULATING_REVENUE_LEAKAGE...</div>
            
            <div class="scan-line">
                <div class="mono" style="color: var(--text-main);">ANNUAL EFFICIENCY OPPORTUNITY</div>
                <div class="money-stat" id="final-amount">$0</div>
                <div class="mono" style="color: var(--text-muted);">RECLAIMABLE HOURS: <span id="final-hours" style="color: white;">0</span>h</div>
            </div>
        </div>

        <h3 style="margin-bottom: 20px;">Architecture Recommendations</h3>
        <div id="recommendations" style="display: grid; gap: 16px;"></div>

        <div class="card" style="margin-top: 40px; text-align: center; border-color: var(--accent);">
            <h3 style="margin-bottom: 10px;">Request the Implementation Blueprint</h3>
            <p style="color: var(--text-muted); margin-bottom: 24px; font-size: 0.95rem;">
                Receive a confidential PDF detailing the specific API stacks (OpenAI, Make, Python) required to automate these workflows.
            </p>
            
            <div style="max-width: 400px; margin: 0 auto; text-align: left;">
                <input type="checkbox" name="botcheck" class="hidden" style="display: none;">
                <input type="text" id="name" placeholder="Full Name" class="lead-input">
                <input type="email" id="user-email" placeholder="Work Email" class="lead-input">
                <button class="btn btn-primary" style="width: 100%; justify-content: center;" id="send-btn" onclick="sendData()">Send Blueprint</button>
            </div>
            <div id="status-msg" style="margin-top: 15px; font-size: 0.9rem; text-align: center;"></div>
        </div>
        
        <div style="text-align: center; margin-top: 40px;">
            <button class="btn btn-ghost" onclick="location.reload()">Reset System</button>
        </div>
    </div>

</main>

<script>
    // --- CONFIG ---
    const ACCESS_KEY = "bc681f98-9bcc-4060-8029-c1afc057d00a"; 

    // --- DATA ---
    const DATA = {
        'legal': { label: 'Legal Services', icon: 'scale', desc: 'Litigation, Corporate, IP', rate: 350, problems: [
            { id: 'intake', label: 'Lead Screening', desc: 'Manual qualification of inbound case inquiries.', timePer: 0.5, unit: 'leads', q: 'Leads per month?' },
            { id: 'discovery', label: 'Discovery Processing', desc: 'File renaming and indexing.', timePer: 0.1, unit: 'files', q: 'Files per month?' },
            { id: 'docs', label: 'Document Assembly', desc: 'Drafting standard motions/agreements.', timePer: 0.75, unit: 'docs', q: 'Docs per week?' }
        ]},
        'construction': { label: 'Construction', icon: 'hammer', desc: 'GC, HVAC, Trade', rate: 125, problems: [
            { id: 'bids', label: 'Bid Estimation', desc: 'Site visits for unqualified leads.', timePer: 1.5, unit: 'visits', q: 'Wasted visits/week?' },
            { id: 'safety', label: 'Safety Compliance', desc: 'Chasing field crews for logs.', timePer: 0.5, unit: 'sites', q: 'Active sites/week?' },
            { id: 'materials', label: 'Procurement', desc: 'Manual PO entry and reconciliation.', timePer: 2.0, unit: 'orders', q: 'Orders/week?' }
        ]},
        'health': { label: 'Healthcare', icon: 'activity', desc: 'Med Spa, Dental, Private', rate: 200, problems: [
            { id: 'no-shows', label: 'No-Show Recovery', desc: 'Manual confirmation calls.', timePer: 0.2, unit: 'appts', q: 'Appts/day?' },
            { id: 'intake', label: 'EMR Data Entry', desc: 'Transcribing paper intake forms.', timePer: 0.25, unit: 'patients', q: 'New patients/week?' }
        ]},
        'finance': { label: 'Finance', icon: 'landmark', desc: 'CPA, Wealth, Insurance', rate: 175, problems: [
            { id: 'chase', label: 'Client Data Collection', desc: 'Emailing for statements/forms.', timePer: 0.25, unit: 'clients', q: 'Active clients/mo?' },
            { id: 'onboard', label: 'Onboarding', desc: 'Engagement letters and compliance.', timePer: 1.0, unit: 'new', q: 'New clients/mo?' }
        ]},
        'realestate': { label: 'Real Estate', icon: 'home', desc: 'Agents, Prop Mgmt', rate: 150, problems: [
            { id: 'qualify', label: 'Lead Vetting', desc: 'Screening Zillow/Portal leads.', timePer: 0.3, unit: 'leads', q: 'Leads/week?' },
            { id: 'maintenance', label: 'Maintenance Ops', desc: 'Vendor coordination.', timePer: 0.5, unit: 'tickets', q: 'Tickets/week?' }
        ]},
        'agency': { label: 'Agency', icon: 'pen-tool', desc: 'Marketing, Dev, Design', rate: 125, problems: [
            { id: 'report', label: 'Client Reporting', desc: 'Manual data aggregation.', timePer: 2.0, unit: 'reports', q: 'Reports/mo?' },
            { id: 'outreach', label: 'Outbound Ops', desc: 'Personalizing cold outreach.', timePer: 0.2, unit: 'contacts', q: 'Contacts/day?' }
        ]},
        'services': { label: 'Consulting', icon: 'briefcase', desc: 'B2B Services, HR', rate: 100, problems: [
            { id: 'contracts', label: 'Contract Mgmt', desc: 'SOW drafting and signature chase.', timePer: 1.0, unit: 'contracts', q: 'Contracts/mo?' },
            { id: 'schedule', label: 'Complex Scheduling', desc: 'Multi-stakeholder coordination.', timePer: 0.2, unit: 'meetings', q: 'Meetings/week?' }
        ]}
    };

    let state = { industry: null, selection: new Set(), inputs: {} };

    document.addEventListener('DOMContentLoaded', () => {
        lucide.createIcons();
        renderGrid();
    });

    function startAudit() {
        document.getElementById('hero').classList.add('hidden');
        setStep(1);
    }

    function setStep(num) {
        [1,2,3,4].forEach(n => document.getElementById(`step-${n}`).classList.add('hidden'));
        document.getElementById(`step-${num}`).classList.remove('hidden');
        window.scrollTo({top:0, behavior:'smooth'});
    }

    function renderGrid() {
        const grid = document.getElementById('industry-grid');
        grid.innerHTML = Object.keys(DATA).map(key => `
            <div class="industry-card" onclick="selectInd('${key}')">
                <div class="industry-icon"><i data-lucide="${DATA[key].icon}"></i></div>
                <h3>${DATA[key].label}</h3>
                <p>${DATA[key].desc}</p>
            </div>
        `).join('');
        lucide.createIcons();
    }

    function selectInd(key) {
        state.industry = key;
        document.getElementById('hourly-rate').value = DATA[key].rate;
        renderProblems(key);
        setStep(2);
    }

    function renderProblems(key) {
        const list = document.getElementById('problem-list');
        list.innerHTML = DATA[key].problems.map(p => `
            <div class="problem-item" onclick="toggleProb('${p.id}', this)">
                <div class="checkbox-custom"><i data-lucide="check" size="14" style="color:white;"></i></div>
                <div>
                    <div style="font-weight:600; font-size:1rem;">${p.label}</div>
                    <div style="color:var(--text-muted); font-size:0.85rem;">${p.desc}</div>
                </div>
            </div>
        `).join('');
        lucide.createIcons();
        state.selection.clear();
    }

    function toggleProb(id, el) {
        if(state.selection.has(id)) {
            state.selection.delete(id);
            el.classList.remove('selected');
        } else {
            state.selection.add(id);
            el.classList.add('selected');
        }
    }

    function validateStep2() {
        if(state.selection.size === 0) {
            document.getElementById('err-2').style.display = 'block';
            return;
        }
        document.getElementById('err-2').style.display = 'none';
        renderSliders();
        setStep(3);
    }

    function renderSliders() {
        const container = document.getElementById('slider-container');
        const activeProbs = DATA[state.industry].problems.filter(p => state.selection.has(p.id));
        container.innerHTML = activeProbs.map(p => `
            <div class="card" style="margin-bottom:16px; padding:24px;">
                <div style="display:flex; justify-content:space-between; margin-bottom:12px;">
                    <span style="font-weight:600;">${p.q}</span>
                    <span class="mono" style="color:var(--accent);" id="disp-${p.id}">0</span>
                </div>
                <input type="range" min="0" max="100" value="0" oninput="updateInput('${p.id}', this.value)">
            </div>
        `).join('');
    }

    function updateInput(id, val) {
        state.inputs[id] = parseInt(val);
        document.getElementById(`disp-${id}`).textContent = val;
    }

    function calculateAndShow() {
        const rate = parseFloat(document.getElementById('hourly-rate').value) || 0;
        let totalHours = 0;
        let breakdown = [];
        
        DATA[state.industry].problems.filter(p => state.selection.has(p.id)).forEach(p => {
            const val = state.inputs[p.id] || 0;
            let annual = 0;
            if(p.q.includes('week')) annual = val * 50;
            else if(p.q.includes('month')) annual = val * 12;
            else if(p.q.includes('day')) annual = val * 250;
            
            const hours = annual * p.timePer;
            totalHours += hours;
            if(hours > 0) breakdown.push({ ...p, hours, money: hours * rate });
        });

        document.getElementById('final-amount').textContent = '$' + Math.round(totalHours * rate).toLocaleString();
        document.getElementById('final-hours').textContent = Math.round(totalHours).toLocaleString();
        
        const recs = document.getElementById('recommendations');
        recs.innerHTML = breakdown.sort((a,b) => b.money - a.money).map(b => `
            <div class="card" style="padding: 20px; display:flex; justify-content:space-between; align-items:center;">
                <div>
                    <div style="font-weight:700;">${b.label} Automation</div>
                    <div style="font-size:0.85rem; color:var(--text-muted);">Eliminates manual ${b.desc.toLowerCase()}</div>
                </div>
                <div class="mono" style="color:var(--success);">+$${Math.round(b.money).toLocaleString()}</div>
            </div>
        `).join('');
        
        setStep(4);
    }

    function sendData() {
        const name = document.getElementById('name').value;
        const email = document.getElementById('user-email').value;
        const btn = document.getElementById('send-btn');
        const status = document.getElementById('status-msg');

        if(!name || !email) {
            status.innerHTML = '<span style="color:#ef4444">Contact details required for secure delivery.</span>';
            return;
        }

        btn.innerText = "Encrypting & Sending...";
        
        const payload = {
            access_key: ACCESS_KEY,
            subject: `New Audit: ${DATA[state.industry].label}`,
            name: name,
            email: email,
            message: `VAL: ${document.getElementById('final-amount').textContent} | HRS: ${document.getElementById('final-hours').textContent}`,
            botcheck: document.querySelector('input[name="botcheck"]').checked
        };

        fetch('https://api.web3forms.com/submit', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },
            body: JSON.stringify(payload)
        })
        .then(async (r) => {
            if (r.status == 200) {
                btn.innerText = "Blueprint Sent";
                btn.style.background = "#10b981";
                status.innerHTML = `<span style="color:#10b981;">Check your inbox for the encrypted report.</span>`;
            } else {
                status.innerHTML = "Transmission error.";
                btn.innerText = "Retry";
            }
        });
    }
</script>

</body>
</html>
